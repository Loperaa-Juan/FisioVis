{% extends 'base.html' %} {% load tailwind_filters %} {% block content %}

<!-- Recuadro con información del paciente -->
<div
  class="bg-white shadow-sm border border-gray-200 rounded-xl p-4 w-full md:w-2/3 mx-auto mt-6"
>
  <div class="flex items-center justify-between">
    <div>
      <h2 class="text-xl font-semibold text-teal-700">
        Evaluando a {{ patient.full_name }}
      </h2>
      <p class="text-gray-700 text-sm mt-1">
        <strong>Edad:</strong> {{ patient.age }} años &nbsp;|&nbsp;
        <strong>Género:</strong> {{ patient.sex }} &nbsp;|&nbsp;
        <strong>ID:</strong> {{ patient.id }}
      </p>
    </div>
  </div>
</div>

<!-- Cuadros de evaluaciones -->
<div class="grid grid-cols-1 gap-4 md:grid-cols-4 md:gap-6 mt-8">
  {% for assessment in assessments %}
  <a
    href="#"
    class="relative block rounded-xl border border-gray-200 bg-white shadow-sm hover:shadow-md transition-all duration-200"
  >
    {% if assessment.photo %}
    <img
      src="{{ assessment.photo.url }}"
      alt="{{ assessment.name }}"
      class="h-48 w-full rounded-t-xl object-cover"
    />
    {% endif %}

    <div class="p-3 text-center">
      <strong class="text-lg font-semibold text-gray-900 block"
        >{{ assessment.name }}</strong
      >
      <p class="mt-1 text-sm text-gray-700 line-clamp-2">
        {{ assessment.description }}
      </p>

      <form action="{% url 'list_assessments' patient.id %}">
        <button
          class="bg-teal-600 text-white rounded-md px-5 py-2.5 hover:bg-teal-700"
        >
          Hacer Evaluación
        </button>
      </form>
    </div>
  </a>
  {% endfor %}
</div>

{% endblock content %}
