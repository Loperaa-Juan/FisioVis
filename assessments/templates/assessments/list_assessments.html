{% extends 'base.html' %}
{% load tailwind_filters %}
{% block content %}

<!-- Recuadro con información del paciente -->
<div class="bg-white shadow-sm border border-gray-200 rounded-xl p-4 w-full md:w-2/3 mx-auto mt-6">
  <div class="flex items-center justify-between">
    <div>
      <h2 class="text-xl font-semibold text-teal-700">Evaluando a {{ patient.name }}</h2>
      <p class="text-gray-700 text-sm mt-1">
        <strong>Edad:</strong> {{ patient.age }} años &nbsp;|&nbsp;
        <strong>Género:</strong> {{ patient.gender }} &nbsp;|&nbsp;
        <strong>ID:</strong> {{ patient.id }}
      </p>
    </div>

    {% if patient.photo %}
    <img
      src="{{ patient.photo.url }}"
      alt="Foto de {{ patient.name }}"
      class="w-16 h-16 rounded-full object-cover border border-teal-400"
    />
    {% endif %}
  </div>
</div>

<!-- Cuadros de evaluaciones -->
<div class="grid grid-cols-1 gap-4 md:grid-cols-4 md:gap-6 mt-8">
  {% for assessment in assessments %}
    <a href="#" class="relative block rounded-xl border border-gray-200 bg-white shadow-sm hover:shadow-md transition-all duration-200">
      
      {% if assessment.photo %}
      <img
        src="{{ assessment.photo.url }}"
        alt="{{ assessment.name }}"
        class="h-48 w-full rounded-t-xl object-cover"
      />
      {% endif %}

      <div class="p-3 text-center">
        <strong class="text-lg font-semibold text-gray-900 block">{{ assessment.name }}</strong>
        <p class="mt-1 text-sm text-gray-700 line-clamp-2">{{ assessment.description }}</p>

        <span
          class="mt-3 inline-block rounded-md border border-teal-600 bg-teal-600 px-4 py-2 text-xs font-medium tracking-wide text-white uppercase transition-colors hover:bg-white hover:text-teal-600"
        >
          Evaluar
        </span>
      </div>
    </a>
  {% endfor %}
</div>

{% endblock content %}
